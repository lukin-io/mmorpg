<div class="enhancement-page">
  <div class="page-header">
    <h1 class="page-title">âš’ï¸ Equipment Enhancement</h1>
    <p class="page-subtitle">Upgrade your gear to become stronger</p>
  </div>

  <div class="enhancement-layout">
    <div class="enhancement-main">
      <div class="items-to-enhance card">
        <h2>Enhanceable Equipment</h2>

        <% if @enhanceable_items.any? %>
          <div class="items-grid">
            <% @enhanceable_items.each do |item| %>
              <div class="enhance-item-card">
                <div class="item-icon item-rarity--<%= item.item_template.rarity %>">
                  <%= item_slot_icon(item.item_template) %>
                  <% if item.enhanced_level.to_i > 0 %>
                    <span class="enhancement-badge">+<%= item.enhanced_level %></span>
                  <% end %>
                </div>

                <div class="item-info">
                  <h4><%= item.item_template.name %></h4>
                  <p class="item-rarity"><%= item.item_template.rarity.titleize %></p>
                  <p class="item-level">Enhancement: +<%= item.enhanced_level.to_i %></p>
                </div>

                <%= link_to "Enhance", equipment_enhancement_path(item), class: "game-btn game-btn--primary" %>
              </div>
            <% end %>
          </div>
        <% else %>
          <p class="no-items">No enhanceable items in your inventory.</p>
        <% end %>
      </div>
    </div>

    <div class="enhancement-sidebar">
      <div class="materials-panel card">
        <h3>Your Materials</h3>
        <% if @materials.any? %>
          <ul class="materials-list">
            <% @materials.each do |mat| %>
              <li>
                <span class="material-icon">ğŸ“¦</span>
                <span class="material-name"><%= mat.item_template.name %></span>
                <span class="material-qty">x<%= mat.quantity %></span>
              </li>
            <% end %>
          </ul>
        <% else %>
          <p class="no-materials">No enhancement materials.</p>
        <% end %>
      </div>

      <div class="enhancement-tips card">
        <h3>Enhancement Tips</h3>
        <ul>
          <li>Higher rarity items can reach higher enhancement levels</li>
          <li>Success rate decreases with each level</li>
          <li>Failed enhancements don't break items</li>
          <li>Enhancement stones are consumed regardless of success</li>
        </ul>
      </div>
    </div>
  </div>
</div>

