<%# City View - Interactive illustrated city with clickable hotspots %>
<%# Instead of tile grid, displays background image with positioned building hotspots %>

<div class="city-view-container">
  <%# City header with zone info %>
  <div class="city-header">
    <h2 class="city-name"><%= @zone.name %></h2>
    <% if @zone.metadata&.dig("description") %>
      <p class="city-description"><%= @zone.metadata["description"] %></p>
    <% end %>
  </div>

  <%# Main city illustration with hotspots %>
  <div class="city-view"
       data-controller="city-view"
       data-city-view-background-value="<%= asset_path('city.png') %>">

    <%# Background image is set via CSS %>

    <%# Render each hotspot %>
    <% @hotspots.each do |hotspot| %>
      <%= render "world/city_hotspot", hotspot: hotspot %>
    <% end %>

    <%# Tooltip element %>
    <div class="city-tooltip" data-city-view-target="tooltip"></div>
  </div>

  <%# City actions panel %>
  <div class="city-actions">
    <div class="city-actions-info">
      <span class="city-location-label">ğŸ“ You are in <%= @zone.name %></span>
    </div>
  </div>
</div>

