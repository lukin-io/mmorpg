<%# City View - Interactive illustrated city with clickable hotspots %>

<div class="city-view-container">
  <div class="city-header">
    <h2 class="city-name"><%= @zone.name %></h2>
    <% if @zone.metadata&.dig("description") %>
      <p class="city-description"><%= @zone.metadata["description"] %></p>
    <% end %>
  </div>

  <div class="city-view" data-controller="city-view" data-city-view-background-value="<%= asset_path('city.png') %>">

    <%#
      TODO: Add overlay images when ready to work on hover highlights.
      Each hotspot.image_hover should be rendered as a full-size overlay at position 0,0.
      See city_view_controller.js for showOverlay/hideOverlay methods.
    %>

    <%# Invisible hitboxes at building positions %>
    <% @hotspots.each do |hotspot| %>
      <%= render "world/city_hotspot", hotspot: hotspot %>
    <% end %>

    <div class="city-tooltip" data-city-view-target="tooltip"></div>
  </div>

  <div class="city-actions">
    <span class="city-location-label">ğŸ“ You are in <%= @zone.name %></span>
  </div>
</div>
