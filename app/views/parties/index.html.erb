<section>
  <header>
    <h1>Parties</h1>
    <p>Create or join groups for dungeons, arenas, and PvP.</p>
  </header>

  <section>
    <h2>Create Party</h2>
    <%= form_with model: @party do |form| %>
      <div class="field">
        <%= form.label :name %>
        <%= form.text_field :name, required: true %>
      </div>
      <div class="field">
        <%= form.label :purpose %>
        <%= form.text_area :purpose, rows: 3 %>
      </div>
      <div class="field">
        <%= form.label :max_size %>
        <%= form.number_field :max_size, min: 2, max: 10, value: 5 %>
      </div>
      <div class="actions">
        <%= form.submit "Create party" %>
      </div>
    <% end %>
  </section>

  <section>
    <h2>Your Parties</h2>
    <% if @parties.any? %>
      <ul class="card-list">
        <% @parties.each do |party| %>
          <li class="card">
            <header>
              <strong><%= party.name %></strong>
              <small>Leader: <%= party.leader.profile_name %></small>
            </header>
            <p><%= party.purpose %></p>
            <footer>
              <%= link_to "View", party, class: "button button--ghost" %>
            </footer>
          </li>
        <% end %>
      </ul>
    <% else %>
      <p>No parties yet.</p>
    <% end %>
  </section>
</section>

